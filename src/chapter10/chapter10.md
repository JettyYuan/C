# chapter10

## 类

将函数原型放在类声明中，实现细节另存其他文件

公有成员函数是程序和对象的私有成员之间的桥梁，提供了对象和程序之间的**接口**

类声明中可以不使用关键字private，是默认的访问控制，但一般会显式使用

结构的默认访问控制是public，但一般结构只作为纯粹的数据对象

成员函数的特征

- 定义成员函数时，使用作用域解析运算符（::）来标识函数所属的类
- 类方法可以访问类的private组件

定义于类声明中的函数**自动**成为内联函数，也可以在类声明之外定义成员函数并使用inline限定符使其成为内联函数

内联函数的**特殊规则**要求在每个使用它们的文件中都对其进行定义，**最简便**的方法是将内联定义放在定义类的头文件中
> 在类声明中定义方法等同于用原型替换方法定义，然后在类声明的后面将定义改写为内联函数

## 构造函数和析构函数

构造函数用于初始化类建立的对象，**无返回值且未被声明为void型**，原型位于类声明的公有部分，程序创建对象时，将自动调用构造函数；在数据成员名前加m_或者后面加_来区分

如果未定义构造函数，编译器会提供默认且无参的构造函数。但一旦定义了有参的构造函数就**必须**在创建对象时使用它，除非再定义一个无参的构造函数，确认默认初始值

通过定义一个无参的构造函数来**覆盖**默认构造函数，这时在创建类对象时可以不显式使用构造函数初始化

类创建的对象过期时，程序将自动调用析构函数。析构函数与构造函数类似，**无返回值且未被声明为void型**，但是析构函数没有参数。原型位于类声明的公有部分，调用的时机由编译器决定

构造函数可以给变量初始化也可以给其他变量赋值，赋值变量会创建**临时变量**。如果既可以初始化也可以赋值变量应采用初始化方式，效率更高

只要类方法不修改调用对象，应将其声明为const

this指针指向用来调用成员函数的对象（this被作为隐藏参数传递给方法）

用构造函数初始化数组必须为**每一个元素**调用构造函数，可以使用不同的构造函数（显式调用无参构造函数）

初始化**对象数组**的方案是，先使用默认或无参的构造函数创建数组元素之后使用自定义的有参构造函数创建临时变量对元素赋值。要创建类对象数组，类**必须**有无参的构造函数

## 类作用域

类作用域分为类内和类外。要使用类内公有成员必须通过对象，而类内私有成员必须通过公有接口

类中声明**常量**的方法

- 使用枚举声明
- 在常量声明前加上static

### 作用域内枚举

不同枚举中可能会有同名的枚举量，可以加上class或struct关键字来**限定作用域**为类，但需要枚举和作用域解析运算符(::)来指定枚举量，同时可以加上类似:short的限定来指定枚举的低层类型，且必须是整型

作用域内枚举与常规枚举不同的点在于，作用域内枚举无隐式转换，常规枚举可以隐式转换成整型

## 抽象数据类型(ADT)

使用类实现ADT，栈就是其中之一，使用数组实现栈

栈的几个要素：

- 查看栈是否满
- 查看栈是否空
- 添加数据项
- 删除数据项
- 栈顶，表示最近添加的数据项存放的位置
